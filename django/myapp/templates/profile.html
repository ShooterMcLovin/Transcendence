{% extends "base.html" %}
{% load static %}
{% block title %}Profile{% endblock %}

{% block content %}
<div class="container mt-5 custom-text-color">
    <h2 class="text-center mb-4">My Profile</h2>
    <form method="post" class="form-group">
        {% csrf_token %}
        <div class="row justify-content-center">
            <div class="col-md-8">
                
                
                <!-- Display Avatar -->
                 
                <div class="text-center mb-4">
                    <img src="{% if user.avatar_url %}{{ user.avatar_url }}{% else %}{% static 'images/logo.png' %}{% endif %}" alt="Avatar" class="img-fluid rounded-circle" style="width: 150px; height: 150px;">
                </div>
                <!-- Avatar Update Form -->
                <form method="post" action="{% url 'profile' %}">
                    {% csrf_token %}
                    {{ avatar_form.as_p }}
                    <button type="submit" name="update_avatar" class="btn btn-primary">Update Avatar</button>
                </form>

                <p><strong>Nickname:</strong> {{ user.nickname }}</p>
                <p><strong>UserName:</strong> {{ user.username }}</p>
                
                <!-- Stats Section -->
                <h4 class="mb-0 mt-4">STATS</h4>
                <div class="p-4 rounded mb-1">
                    <p><strong>Wins:</strong> {{ user.wins }}</p>
                    <p><strong>Losses:</strong> {{ user.losses }}</p>
                    <p><strong>Tournament Wins:</strong> {{ user.tournament_wins }}</p>
                    <p><strong>Tournament Losses:</strong> {{ user.tournament_losses }}</p>
                </div>
            </div>

            {% comment %} <!-- Change Password Section -->
            <div class="col-md-6 mb-4">
                <h4>Change Password</h4>
                <br>
                {{ change_password_form.as_p|safe }}
                <button type="submit" name="change_password" class="btn btn-warning">Change Password</button>
            </div> {% endcomment %}
        </div>
    </form>
</div>
{% endblock %}
